apexcharts_card_templates:
  meteo:
    apex_config:
      legend:
        show: false
      grid:
        show: false
      xaxis:
        axisBorder:
          show: false
    all_series_config:
      stroke_width: 1

title: Meteo
views:
  #################################################
  # Prévisions
  #################################################              
  - title: Prévisions
    layout:
      grid-template-columns: repeat(4, 1fr)
      grid-template-areas: |-
        "z z z z"
        "y y y y"
        "a b b b"
        "c b b b"
        "d e f g"
      place-content: stretch
      mediaquery:
        '(max-width: 1300px)':
          grid-template-columns: 1fr
          grid-template-areas: |-
            "z"
            "a"
            "b"
            "c"
    type: custom:grid-layout
    cards: 
    - type: custom:hourly-weather
      entity: weather.forecast_maison
      num_segments: 24 # optional, defaults to 12
      name: Prochaines 24h # optional, defaults to "Hourly Weather"
      view_layout:
        place-self: center stretch
        grid-area: z
    - type: entities
      entities:
        - entity: sensor.ws2900_v2_02_01_max_daily_gust
          name: Rafale maximale du jour
        - entity: sensor.ws2900_v2_02_01_total_rain
          name: Pluie totale du jour
      view_layout:
        grid-area: y
    - type: custom:weather-chart-card
      entity: weather.forecast_maison
      show_main: false
      show_current_condition: false
      show_attributes: false
      animated_icons: true
      units:
        speed: km/h    
    - type: iframe
      aspect_ratio: 50%
      url: "https://embed.windy.com/embed.html?type=map&location=coordinates&metricRain=default&metricTemp=default&metricWind=default&zoom=7&overlay=wind&product=ecmwf&level=surface&lat=50.17&lon=4.329&pressure=true&message=true"              
      view_layout:
        place-self: center stretch
        grid-area: b  
    - type: custom:apexcharts-card
      config_templates:
        - meteo
      header:
        show: true
        show_states: true
        colorize_states: true
      graph_span: 36h
      all_series_config:
        stroke_width: 1
      series:
        - entity: sensor.ws2900_v2_02_01_outdoor_temperature
          name: Temperature
          show:
            extremas: true
        - entity: sensor.ws2900_v2_02_01_feels_like_temperature
          name: Ressentie
        - entity: sensor.ws2900_v2_02_01_windchill
          name: Refroidissement Eolien
        - entity: sensor.ws2900_v2_02_01_dewpoint
          name: Rosée
      view_layout:
        grid-area: c
    - type: custom:apexcharts-card
      config_templates:
        - meteo
      header:
        show: true
        title: Vent
        show_states: true
        colorize_states: true
      graph_span: 36h
      all_series_config:
        stroke_width: 1
        show:
          extremas: max
      series:
        - entity: sensor.ws2900_v2_02_01_wind_speed
          name: Vitesse
        - entity: sensor.ws2900_v2_02_01_wind_gust
          name: Rafale
          opacity: 0.2
          type: area
    - type: custom:apexcharts-card
      config_templates:
        - meteo
      header:
        show: true
        title: Pluie
        show_states: true
        colorize_states: true
      graph_span: 1d
      all_series_config:
        stroke_width: 1
        show:
          extremas: max
      yaxis:
        - id: rate
        - id: total
          opposite: true
      series:
        - entity: sensor.ws2900_v2_02_01_rain_rate
          name: Pluviométrie
          type: column
          stroke_width: 2
          yaxis_id: rate
          color: rebeccapurple
        - entity: sensor.ws2900_v2_02_01_total_rain
          yaxis_id: total
    - type: custom:apexcharts-card
      config_templates:
        - meteo
      header:
        show: true
        title: Pression
        show_states: true
        colorize_states: true
      graph_span: 2d
      all_series_config:
        stroke_width: 1
        show:
          extremas: true
      series:
        - entity: sensor.ws2900_v2_02_01_relative_pressure
          name: Pression
    - type: custom:apexcharts-card
      config_templates:
        - meteo
      header:
        show: true
        title: Humidité
        show_states: true
        colorize_states: true
      graph_span: 1d
      all_series_config:
        stroke_width: 1
        show:
          extremas: true
      series:
        - entity: sensor.ws2900_v2_02_01_humidity
          name: Humidité

